<view class="profile-container">
  <!-- 瀹瑰哄 -->
  <view class="profile-content">
    <!-- 澶村璁剧疆 -->
    <view class="setting-item">
      <view class="item-label">
        <text class="label-icon"></text>
        <text class="label-text">澶村</text>
      </view>
      <view class="item-value" bindtap="chooseAvatar">
        <image class="avatar-preview" src="{{userInfo.avatar}}" mode="aspectFill"></image>
        <text class="action-text">瑰讳慨</text>
      </view>
    </view>

    <!-- 电О璁剧疆 -->
    <view class="setting-item">
      <view class="item-label">
        <text class="label-icon">锔</text>
        <text class="label-text">电О</text>
      </view>
      <view class="item-value" bindtap="showNicknameInput">
        <text class="nickname-text">{{userInfo.name}}</text>
        <text class="action-text">瑰讳慨</text>
      </view>
    </view>

    <!-- 淇规电О寮圭 -->
    <view class="nickname-modal" wx:if="{{showNicknameModal}}">
      <view class="modal-mask" bindtap="hideNicknameInput" catchtouchmove="preventTouchMove"></view>
      <view class="modal-container">
        <view class="modal-header">
          <text class="modal-title">淇规电О</text>
        </view>
        <view class="modal-content">
          <view class="input-wrapper">
            <input 
              class="nickname-input" 
              type="text" 
              value="{{tempNickname}}" 
              bindinput="onNicknameInput"
              placeholder="璇疯ユ版电О"
              maxlength="20"
              focus="{{showNicknameModal}}"
            />
            <text class="input-length">{{tempNickname.length}}/20</text>
          </view>
        </view>
        <view class="modal-footer">
          <button class="modal-btn cancel-btn" bindtap="hideNicknameInput">娑</button>
          <button class="modal-btn confirm-btn" bindtap="confirmNickname">纭瀹</button>
        </view>
      </view>
    </view>

    <!-- 淇瀛 -->
    <view class="save-section">
      <button class="save-btn" bindtap="saveProfile">淇瀛淇</button>
    </view>
  </view>
</view>
